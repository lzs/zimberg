/* This is used in the visual editor */

@import 'variables';
@import 'mixins';

/* Width of "wide" blocks */
body.gutenberg-editor-page .editor-block-list__block[data-align="wide"] {
    max-width: 900;
}

/* Width of "full-wide" blocks */
body.gutenberg-editor-page .editor-block-list__block[data-align="full"] {
    max-width: none;
}

/* Adjust alignment of right-align blocks */
.editor-block-list__layout .editor-block-list__block[data-align=right] .editor-block-list__block-edit {
    float: right;
    margin-left: 1.5em /*!rtl:end:ignore*/;
    margin-top: 0;
    margin-bottom: 0;
}

/* Adjust alignment of left-align blocks */
.editor-block-list__layout .editor-block-list__block[data-align=right] .editor-block-list__block-edit {
    float: right;
    margin-left: 1.5em /*!rtl:end:ignore*/;
    margin-top: 0;
    margin-bottom: 0;
}

.is-desktop-preview {
	background-color: $colour-bg !important;
}

.editor-styles-wrapper, .edit-post-visual-editor {
	background-color: $colour-bg ;
	color: $colour-fg;
}

/* Title */
.editor-styles-wrapper {
	.editor-post-title__input {
		@include font-header;
		font-size: 1.5rem;
		font-weight: normal;
	}
}

.editor-rich-text__tinymce code {
	@include font-mono;
	padding: 3px 0px 2px;
}

.block-editor-block-list__block {
        @include font-main;
        font-size: 16px;
}

/* Adjustment to editing blocks to match positioning in front-end */

.editor-styles-wrapper {
	max-width: $content-width;
	width: 100%;
	margin: 0 auto;
	p, ul, ol {
		margin-top: 18px;
		margin-bottom: 18px;
		line-height: 1.65;
	}
	a {
		color: #77bbfa;
	}
	a:hover, a:focus, a:active {
		color: #6699e9;
	}
}

.editor-styles-wrapper .wp-block-file .block-editor-rich-text > div {
	margin: 0;
}

.editor-styles-wrapper .block-editor-rich-text > .wp-block-table__cell-content {
	margin: 0;
}

.editor-styles-wrapper figure.wp-block-gallery {
	// This is to negate the li tag's 16px margin-bottom
	margin-bottom: -16px;
}

.editor-styles-wrapper .block-editor-block-list__layout > {
	h2, h3, h4, h5, h6 {
		@include font-header;
		font-weight: normal;
		line-height: 1.4;
	}
	h2 {
		font-size: 1.4em;
	}
	h3 {
		font-size: 1.3em;
	}
	h4 {
		font-size: 1.2em;
	}
	h5, h6 {
		text-transform: uppercase;
	}
	h5 {
		font-size: 1.1em;
	}
	h6 {
		font-size: 1.0em;
	}
}

.block-editor-block-list__layout > {
	ul.wp-block, ol.wp-block {
		padding-left: 2.6em;
	}
}

pre.wp-block-preformatted, pre.wp-block-code {
	@include font-mono;
	white-space: pre;
        border: 1px solid #ccc;
        padding: 0.5em;
	overflow: auto;
}

.wp-block-table {
	overflow-x: visible;
}

.editor-styles-wrapper .wp-block .wp-block-table figcaption {
	margin-top: .5em;
	margin-bottom: 1em;
}

.edit-post-visual-editor p.wp-block-subhead {
	color: #6c7781;
	font-size: 1.1em;
	font-style: italic;
	opacity: 1.0;
}

.wp-block-file__button {
	font-size: 0.9em;
	padding: 0.3em 1em;
}

/* Remove extraneous space after image due to line-height */
.wp-block-image .components-resizable-box__container {
	display: block;
}

///* Remove extra top/bottom margin for gallery block */
//.gutenberg .wp-block-gallery:not(.components-placeholder) {
//	margin: (-$content-padding);
//}

.editor-styles-wrapper ul.wp-block-gallery {
	margin-bottom: -16px;
}

.wp-block-video {
	margin: 0;
}

.wp-block-pullquote {
        padding: 2em 0;
	margin-left: 2em;
	margin-right: 2em;
}

.wp-block-verse pre, pre.wp-block-verse {
	padding: 0;
}

// -----
/* Positioning of Editing BLocks */

.editor-block-list__block>.editor-block-mover, .editor-block-list__block>.editor-block-settings-menu, .editor-block-list__breadcrumb {
	top: -7px;
}

.editor-block-list__block>.editor-block-list__insertion-point {
	top: -7px;
}

.editor-block-list__block .editor-block-contextual-toolbar {
	transform: translateY(-44px);
}

.editor-block-list__layout .editor-block-list__block .editor-block-list__block-edit:before,
.editor-block-list__layout .editor-block-list__block .editor-block-list__block-edit .editor-block-list__block-edit:before{
	top: -6px;
	bottom: -6px;
}

.editor-block-list__block>.editor-block-list__insertion-point {
	height: 12px; /* was 28px */
}

.editor-block-list__block .editor-block-list__layout {
//	margin: -$content-spacing;
}

/* multicolumn edits */

.wp-block-columns .editor-block-list__layout:last-child {
	margin-right: -$block-spacing;
}

.wp-block-columns .editor-block-list__layout:first-child {
	margin-left: -$block-spacing;
}

.editor-block-list__block .editor-block-list__layout {
	margin: -$block-spacing;
}

sup,sub {
	line-height: 0;
	font-size: 75%;
}

/* Classic editor */

.wp-block-freeform.block-library-rich-text__tinymce {
	h2, h3, h4 {
		@include font-header;
	}
}

@media (prefers-color-scheme: light) {
	.is-desktop-preview {
		background-color: #fff !important;
	}
	.editor-styles-wrapper {
		background-color: #fff;
		color: #333;
		a {
			color: #0073aa;
		}
		a:hover, a:focus, a:active {
			color: #00a0d2;
		}
	}
}

